These notes should be merged into the appropriate document.

We'll use the internal FQDN, which should be output of 'hostname -f' as the server FQDN. This must be all lower-case!

ruby -e 'puts %x{hostname -f}.downcase'

vi ~/bootstrap.json

# On server:
{ "chef": { "server_fqdn": "domu-12-31-39-02-c1-23.compute-1.internal" }, "recipes": "chef::server" }

# On clients:
{ "chef": { "server_fqdn": "domu-12-31-39-02-c1-23.compute-1.internal" }, "recipes": "chef::client" }

chef-solo -j ~/bootstrap.json -r http://s3.amazonaws.com/chef-solo/bootstrap-latest.tar.gz
/etc/init.d/chef-client stop

(getting chef-repo steps ommitted here)
git clone git://github.com/opscode/cookbooks.git cookbooks
vi config/rake.rb
slappasswd -s "some password here" # on workstation or elsewhere
{SSHA}Y6HSsZremATlLsE2GmRvIY7GZJV6qjG9
vi config/ops_master.json
  chef server_fqdn
  openldap rootpw, server, basedn
vi config/openldap.ldif
rake ssl_cert FQDN=`hostname -f'`
cp certificates/`hostname -f`.pem site-cookbooks/openldap/files/default/ssl
/etc/init.d/apache2 restart

rake install

chef-client -j config/ops_master.json
might have to:

rm -rf /etc/ldap/slapd*
chef-client -j config/ops_master.json
slapadd -l config/openldap.ldif
  (correct any errors in the ldif, rerun above)
/etc/init.d/slapd start
getent passwd
should have USERID and railsdev
